<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="description" content="AWStats Documentation - Benchmark page">
<meta name="keywords" content="awstats, awstat, benchmark, speed, dns, lookup, time">
<meta name="robots" content="index,follow">
<meta name="title" content="AWStats Documentation - Benchmark page">
<title>AWStats Documentation - Benchmark page</title>
<link rel="stylesheet" href="styles.css" type="text/css">
<!-- $Revision: 1.25 $ - $Author: eldy $ - $Date: 2002-11-07 18:54:19 $ -->
</head>

<body topmargin=10 leftmargin=5>


<table style="font: 10pt arial,helvetica,verdana" cellpadding=0 cellspacing=0 border=0 bgcolor=#FFFFFF width=100%>

<!-- Large -->
<tr style="font: 10pt arial,helvetica,verdana">
<td bgcolor=#9999cc align=center><a href="/"><img src="images/awstats_logo4.png" border=0></a></td>
<td bgcolor=#9999cc align=center>
<br>
<font style="font: 16pt arial,helvetica,sanserif" color=#EEEEFF><b>AWStats logfile analyzer 5.2 Documentation</b></font><br>
<br>
</td>
<td bgcolor=#9999cc align=center>
&nbsp;
</td>
</tr>

</table>


<br><br><H1 style="font: 26px arial,helvetica,sanserif">Benchmarks</H1>

<br>
AWStats update process must be ran frequently, so it's important to know what is AWStats
speed to choose an optimum delay between each update process according to AWStats speed and
the refresh rate you need to have.<br>
AWStats speed depends on AWStats version and options/setup you use in configuration file.<br>

<br>
<br>
<b><u>This is benchmark results with AWStats version 5.1 and a common configuration:</u></b><br>
<br>
HARDWARE: Athlon 1 GHz / 128Mb<br>
SOFTWARE: Windows 2000 / Perl 5.8<br>
CONFIG OPTIONS: <a href="awstats_config.html#LogFormat">LogFormat</a>=1, <a href="awstats_config.html#DNSLookup">DNSLookup</a>=0<br>
AVERAGE SPEED: <b>4500</b> lines by seconds<br>
Other times for different kind of web sites are shown lower in this page...<br>

<br>
<br>
<b><u>This is other important information to know:</u></b><br>
<br>
- A log file size is about <b>150</b> (NCSA common/CLF log files) to <b>300 times</b> (NCSA extended/XLF/ELF log files) its number of lines,<br>
- A <b>30Mb file</b> = <b>100,000 lines</b> = <b>20,000 pages</b> (with 5 hits/page) = <b>2,500 visits</b> (with 8 pages/visits) => <b>75 seconds</b> (Athlon 1GHz)<br>
- History files (resuming the log analyze) has the following size (one file a month) :
<!-- 15Ko + 60*(1*719/720+100*1/720)*x + 100*y + 2*100*x*4/100 + 20*x*1.4*10*10*(2/100+1/100) -->
<b>15000+160*x+100*y bytes</b> (where x is number of unique visitors a month and y is number of different pages on web sites)<br>
WARNING ! All those data are average values for a common public site. Calculation rule can be seriously changed
according to web server or AWStats configuration and web site content.<br>

<br>
Don't forget that benchmarks of log analyzers are made without reverse DNS lookup
because this depends on your system, networks and Internet and not on the
log analyzer you use. And the reverse DNS lookup can take <b>95%</b> of the time of a log analysis !<br>
So, have a look at the following chart to:<br>
- Get more real ideas on benchmarks results<br>
- Get more information and advice on a good setup for your site.<br>

<br>
<br>
<b><u>This is examples of frequency/parameters you should use to have a good use of AWStats:</u></b><br>
<br>
<table border=1 cellspacing=0 cellpadding=2 style="font: 12px; arial,verdana">
<tr bgcolor=#EEEEEE><td rowspan=2>Your Web site size</td><td colspan=3>Recommended values for parameters</td><td rowspan=2>Recommended update frequency<br>(Rotate log delay)</td><td rowspan=2>Memory required**</td><td rowspan=2>Duration***</td></tr>
<tr bgcolor=#EEEEEE><td>DNSLookup*</td><td>URLWithQuery</td><td>URLReferrerWithQuery</td></tr>
<tr><td rowspan=2>     0 -     1,000 visits/month</td><td>1</td><td>0 or 1</td><td>0 or 1</td><td>Once a week<br>Log files are 0-3 MB<br>10000 lines to process</td><td><4 MB</td><td><2mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0 or 1</td><td>0 or 1</td><td>Once a month<br>Log files are 0-12 MB<br>40000 lines to process</td><td><4 MB</td><td><20s.</td></tr>
<tr><td rowspan=2> 1,000 -    10,000 visits/month</td><td>1</td><td>0 or 1</td><td>0 or 1</td><td>Every 12 hours<br>Log files are 1-2 MB<br>660-6600 lines</td><td>4-8 MB</td><td>1-2mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0 or 1</td><td>0 or 1</td><td>Once a week<br>Log files are 3-30 MB<br>10000-100000 lines</td><td>4-8 MB</td><td>5-50s</td></tr>
<tr><td rowspan=2>10,000 -    50,000 visits/month</td><td>1</td><td>0 or 1</td><td>0 or 1</td><td>Every 4 hours<br>Log files are 1-4 MB<br>2200-11000 lines</td><td>8-16 MB</td><td>1-4mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0 or 1</td><td>0 or 1</td><td>Once a day<br>Log Files are 4-20 MB<br>13000-65000 lines</td><td>8-16 MB</td><td>10-40s</td></tr>
<tr><td rowspan=2>50,000 -   250,000 visits/month</td><td>1</td><td>0</td><td>0 or 1</td><td>Every hour<br>Log Files are 1-4 MB<br>2700-14000 lines</td><td>16-64 MB</td><td>2-4mn</td></tr>
<tr>                                                <td>0 (or 2)</td><td>0</td><td>0 or 1</td><td>Every 6 hours<br>Log Files are 5-25 MB<br>17000-80000 lines</td><td>16-64 MB</td><td>20-80s</td></tr>
<tr><td>         250,000 - 1,000,000 visits/month</td><td>0 (or 2)</td><td>0</td><td>0</td><td>Every hour<br>Log Files are 4-16 MB<br>14000-56000 lines</td><td>64-256 MB</td><td>30-120s</td></tr>
<tr><td>       1,000,000 - 5,000,000 visits/month</td><td colspan=6>AWStats is not a good choice for such web sites. Try a tool with less features but faster like <a href="http://www.analog.cx">Analog</a> or <a href="http://www.mrunix.net/webalizer/">Webalizer</a></td></tr>
<tr><td>      +5,000,000 visits/month</td><td colspan=6>AWStats is not a good choice for such web sites. Try a tool with less features but faster like <a href="http://www.analog.cx">Analog</a></td></tr>
</table>
* You should set <a href="awstats_config.html#DNSLookup">DNSLookup</a> parameter to 0 (or 2) if<br>
&nbsp;&nbsp; &nbsp;&nbsp; - reverse DNS lookup is already done in your log file<br>
&nbsp;&nbsp; &nbsp;&nbsp; - or if you don't need the "domain/countries" report<br>
&nbsp;&nbsp; &nbsp;&nbsp; - or if your web site has more than 250,000 visits a month.<br>
** Free memory required for update process (in MB).<br>
Warning: If you use the <a href="awstats_config.html#URLWithQuery">URLWithQuery</a> or <a href="awstats_config.html#URLReferrerWithQuery">URLReferrerWithQuery</a> option, or forget
to complete correctly <a href="awstats_config.html#URLQuerySeparators">URLQuerySeparators</a> for some sites, this value can be dramatically increased.<br>
*** Duration is with Athlon 1GHz/128Mb and LogFormat=1.<br>

<br>
<br>
<a name="ADVICES"></a><b><u>SOME IMPORTANT ADVICES FOR A GOOD USE OF AWSTATS:</u></b><br>
<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- You can disable <a href="awstats_config.html#DNSLookup">DNSLookup</a> in AWStats (set DNSLookup=0 or DNSlookup=2 to only use DNS file resolver).
Note that with DNSLookup disabled if you still want to have the 'country/domain' report, this requires that hosts addresses
in your log file are already resolved (need to setup your web server to do so, your web server will be slowed).
Without DNSLookup, log analyze speed can be increased by 10 to 100 times.<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Use carefully parameters <a href="awstats_config.html#URLWithQuery">URLWithQuery</a> and <a href="awstats_config.html#URLReferrerWithQuery">URLReferrerWithQuery</a>
(Let them set to 0 if you don't know what they means) and check your web site URLs' syntax to know if you need to complete parameter <a href="awstats_config.html#URLQuerySeparators">URLQuerySeparators</a>.<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Be sure that your <a href="awstats_config.html#HostAliases">HostAliases</a> parameter list is complete.<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Rotate your log (See <a href="awstats_faq.html#ROTATE">FAQ-SET500</a>) and launch AWStats more often (from crontab or a scheduler, See <a href="awstats_faq.html#CRONTAB">FAQ-SET550</a>).
 The more often you
launch AWStats, the less AWStats has new lines in log to process. This solve also the ActiveState memory problem (see next advice).<br>
<img src="images/star.png"><img src="images/star.png"><img src="images/star.png">
- Use standard Perl distribution instead of ActiveState (It seems that ActiveState Perl 5.006 and may be other version)
have an important memory problem making speed of analysis slower and slower when analysing more and more lines.<br>
<img src="images/star.png"><img src="images/star.png">
- Use last AWStats version.<br>
<img src="images/star.png"><img src="images/star.png">
- Use last Perl version. For example Perl 5.8 is 5% faster than Perl 5.6<br>
<img src="images/star.png">
- If you use Apache and don't rotate your logs (not the best way of working), set <a href="awstats_config.html#PurgeLogFile">PurgeLogFile</a> to 1 (By default, to avoid bad surprise,
<a href="awstats_config.html#PurgeLogFile">PurgeLogFile</a> is 0 in configure file, but you can set it to 1 to ask AWStats
to purge the log file after processing it, this increase speed for next run).<br>
<br>

<hr>

<script language=javascript>
	var lastmod = new Date(document.lastModified);
	if (lastmod.getDate() > 0) {
		if (lastmod.getDate()<10) zerod="0"
		else zerod="";
		if (lastmod.getMonth()<9) zerom="0"
		else zerom=""
		year2kok=lastmod.getYear();
		if (year2kok<100) year2kok+=2000;
		if ((year2kok>=100) && (year2kok < 1970)) year2kok+=1900;
		document.writeln("Last revision: "+year2kok+"-"+zerom+(lastmod.getMonth()+1)+"-"+zerod+lastmod.getDate());
	}
</script>

</body>
</html>
